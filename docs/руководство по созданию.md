
# Руководство по созданию пользовательской оболочки Shell

## Оглавление
1. Введение
2. Исследование предметной области
3. Общая архитектура оболочки
4. Установка и сборка проекта
5. Основной цикл оболочки
6. Обработка встроенных команд
7. Добавление новых команд
8. Тестирование и запуск
9. Иллюстрации
10. Заключение

---

## 1. Введение

Это руководство описывает процесс создания оболочки командной строки (Shell) на языке программирования C, выполненный в рамках проектной практики.

## 2. Исследование предметной области

В рамках подготовки было изучено:
- Принцип работы оболочек Unix (bash, zsh)
- Системные вызовы: `fork()`, `execvp()`, `wait()`, `chdir()`
- Парсинг пользовательского ввода

## 3. Общая архитектура оболочки

Проект состоит из следующих файлов:

- `main.c` — основной цикл
- `shell.c` / `shell.h` — обработка ввода и вызов команд
- `builtin.c` / `builtin.h` — встроенные команды (`cd`, `exit`, `help`)
- `Makefile` — сборка


## 4. Установка и сборка проекта

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/n-hexane/practice-shell.git
   cd practice-shell
   ```

2. Соберите проект:
   ```bash
   make
   ```

3. Запустите оболочку:
   ```bash
   ./shell
   ```

## 5. Основной цикл оболочки

```c
while (1) {
    print_prompt();
    fgets(input, size, stdin);
    parse_input(input, args);
    execute(args);
}
```

- `print_prompt()` — вывод приглашения
- `fgets()` — чтение команды
- `parse_input()` — разделение на токены
- `execute()` — выполнение

## 6. Обработка встроенных команд

```c
int shell_cd(char **args) {
    if (args[1] == NULL) {
        fprintf(stderr, "shell: expected argument to "cd"
");
    } else {
        chdir(args[1]);
    }
    return 1;
}
```

Поддерживаемые команды:
- `cd`
- `help`
- `exit`
- `clear`
- `pwd`
- `echo`
- и т. д.

## 7. Добавление новых команд

1. Объявите функцию
2. Добавьте в таблицу команд в `shell.c`.

## 8. Тестирование и запуск

- Запуск оболочки в терминале Linux/MacOS.
- Проверка обработки некорректных команд.
- Проверка возврата в родительский процесс.

## 9. Иллюстрации

- Архитектура проекта
- Скриншоты терминала
- Пример обработки команды
- Диаграмма взаимодействия функций

## 10. Заключение

Созданная оболочка выполняет базовые функции и служит учебным примером для понимания принципов системного программирования.

---